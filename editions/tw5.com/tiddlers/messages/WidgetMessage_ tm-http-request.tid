caption: tm-http-request
created: 20220908161746341
modified: 20220908161746341
tags: Messages
title: WidgetMessage: tm-http-request
type: text/vnd.tiddlywiki

The ''tm-http-request'' message is used to make an HTTP request to a server.

It uses the following properties on the `event` object:

|!Name |!Description |
|param |Not used |
|paramObject |Hashmap of parameters (see below) |

The following parameters are used:

|!Name |!Description |
|method |HTTP method (eg "GET", "POST") |
|body |String data to be sent with the request |
|header-* |Headers with string values|
|password-header-* |Headers with values taken from the password store |
|var-* |Variables to be passed to the completion and progress handlers (without the "var-" prefix) |
|bind-status |Title of tiddler to which the status of the request ("pending", "complete", "error") should be bound |
|bind-progress |Title of tiddler to which the progress of the request (0 to 100) should be bound |
|oncompletion |Action strings to be executed when the request completes |
|onprogress |Action strings to be executed when progress is reported |

The following variables are passed to the completion handler:

|!Name |!Description |
|status |HTTP result status code (see [[MDN|https://developer.mozilla.org/en-US/docs/Web/HTTP/Status]]) |
|statusText |HTTP result status text |
|error |Error string |
|data |Returned data |
|headers |Response headers as a JSON object |

The following variables are passed to the progress handler:

|!Name |!Description |
|lengthComputable |Whether the progress loaded and total figures are valid - "yes" or "no" |
|loaded |Number of bytes loaded so far |
|total |Total number bytes to be loaded |
